<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>initializeSparseMatrix.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h2><a href="https://github.com/jkanche/scran.js" target="_blank" class="menu-item" id="repository" >Github repo</a></h2><h3>Classes</h3><ul><li><a href="AggregateAcrossCellsResults.html">AggregateAcrossCellsResults</a><ul class='methods'><li data-type='method' style='display: none;'><a href="AggregateAcrossCellsResults.html#detected">detected</a></li><li data-type='method' style='display: none;'><a href="AggregateAcrossCellsResults.html#free">free</a></li><li data-type='method' style='display: none;'><a href="AggregateAcrossCellsResults.html#numberOfGenes">numberOfGenes</a></li><li data-type='method' style='display: none;'><a href="AggregateAcrossCellsResults.html#numberOfGroups">numberOfGroups</a></li><li data-type='method' style='display: none;'><a href="AggregateAcrossCellsResults.html#sums">sums</a></li></ul></li><li><a href="BuildLabelledReferenceResults.html">BuildLabelledReferenceResults</a><ul class='methods'><li data-type='method' style='display: none;'><a href="BuildLabelledReferenceResults.html#free">free</a></li><li data-type='method' style='display: none;'><a href="BuildLabelledReferenceResults.html#sharedFeatures">sharedFeatures</a></li></ul></li><li><a href="BuildNeighborSearchIndexResults.html">BuildNeighborSearchIndexResults</a><ul class='methods'><li data-type='method' style='display: none;'><a href="BuildNeighborSearchIndexResults.html#free">free</a></li><li data-type='method' style='display: none;'><a href="BuildNeighborSearchIndexResults.html#numberOfCells">numberOfCells</a></li><li data-type='method' style='display: none;'><a href="BuildNeighborSearchIndexResults.html#numberOfDims">numberOfDims</a></li></ul></li><li><a href="BuildSnnGraphResults.html">BuildSnnGraphResults</a><ul class='methods'><li data-type='method' style='display: none;'><a href="BuildSnnGraphResults.html#free">free</a></li></ul></li><li><a href="ClusterKmeansResults.html">ClusterKmeansResults</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ClusterKmeansResults.html#clusterCenters">clusterCenters</a></li><li data-type='method' style='display: none;'><a href="ClusterKmeansResults.html#clusters">clusters</a></li><li data-type='method' style='display: none;'><a href="ClusterKmeansResults.html#clusterSizes">clusterSizes</a></li><li data-type='method' style='display: none;'><a href="ClusterKmeansResults.html#free">free</a></li><li data-type='method' style='display: none;'><a href="ClusterKmeansResults.html#iterations">iterations</a></li><li data-type='method' style='display: none;'><a href="ClusterKmeansResults.html#numberOfCells">numberOfCells</a></li><li data-type='method' style='display: none;'><a href="ClusterKmeansResults.html#numberOfClusters">numberOfClusters</a></li><li data-type='method' style='display: none;'><a href="ClusterKmeansResults.html#setIterations">setIterations</a></li><li data-type='method' style='display: none;'><a href="ClusterKmeansResults.html#setStatus">setStatus</a></li><li data-type='method' style='display: none;'><a href="ClusterKmeansResults.html#status">status</a></li><li data-type='method' style='display: none;'><a href="ClusterKmeansResults.html#withinClusterSumSquares">withinClusterSumSquares</a></li></ul></li><li><a href="ClusterSnnGraphLeidenResults.html">ClusterSnnGraphLeidenResults</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ClusterSnnGraphLeidenResults.html#free">free</a></li><li data-type='method' style='display: none;'><a href="ClusterSnnGraphLeidenResults.html#membership">membership</a></li><li data-type='method' style='display: none;'><a href="ClusterSnnGraphLeidenResults.html#modularity">modularity</a></li><li data-type='method' style='display: none;'><a href="ClusterSnnGraphLeidenResults.html#setModularity">setModularity</a></li></ul></li><li><a href="ClusterSnnGraphMultiLevelResults.html">ClusterSnnGraphMultiLevelResults</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ClusterSnnGraphMultiLevelResults.html#best">best</a></li><li data-type='method' style='display: none;'><a href="ClusterSnnGraphMultiLevelResults.html#free">free</a></li><li data-type='method' style='display: none;'><a href="ClusterSnnGraphMultiLevelResults.html#membership">membership</a></li><li data-type='method' style='display: none;'><a href="ClusterSnnGraphMultiLevelResults.html#modularity">modularity</a></li><li data-type='method' style='display: none;'><a href="ClusterSnnGraphMultiLevelResults.html#numberOfLevels">numberOfLevels</a></li><li data-type='method' style='display: none;'><a href="ClusterSnnGraphMultiLevelResults.html#setBest">setBest</a></li><li data-type='method' style='display: none;'><a href="ClusterSnnGraphMultiLevelResults.html#setModularity">setModularity</a></li></ul></li><li><a href="ClusterSnnGraphWalktrapResults.html">ClusterSnnGraphWalktrapResults</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ClusterSnnGraphWalktrapResults.html#free">free</a></li><li data-type='method' style='display: none;'><a href="ClusterSnnGraphWalktrapResults.html#membership">membership</a></li><li data-type='method' style='display: none;'><a href="ClusterSnnGraphWalktrapResults.html#modularity">modularity</a></li><li data-type='method' style='display: none;'><a href="ClusterSnnGraphWalktrapResults.html#numberOfMergeSteps">numberOfMergeSteps</a></li><li data-type='method' style='display: none;'><a href="ClusterSnnGraphWalktrapResults.html#setModularity">setModularity</a></li></ul></li><li><a href="FindNearestNeighborsResults.html">FindNearestNeighborsResults</a><ul class='methods'><li data-type='method' style='display: none;'><a href="FindNearestNeighborsResults.html#.unserialize">unserialize</a></li><li data-type='method' style='display: none;'><a href="FindNearestNeighborsResults.html#free">free</a></li><li data-type='method' style='display: none;'><a href="FindNearestNeighborsResults.html#numberOfCells">numberOfCells</a></li><li data-type='method' style='display: none;'><a href="FindNearestNeighborsResults.html#serialize">serialize</a></li><li data-type='method' style='display: none;'><a href="FindNearestNeighborsResults.html#size">size</a></li></ul></li><li><a href="H5Base.html">H5Base</a><ul class='methods'><li data-type='method' style='display: none;'><a href="H5Base.html#readAttribute">readAttribute</a></li><li data-type='method' style='display: none;'><a href="H5Base.html#writeAttribute">writeAttribute</a></li></ul></li><li><a href="H5DataSet.html">H5DataSet</a><ul class='methods'><li data-type='method' style='display: none;'><a href="H5DataSet.html#load">load</a></li><li data-type='method' style='display: none;'><a href="H5DataSet.html#readAttribute">readAttribute</a></li><li data-type='method' style='display: none;'><a href="H5DataSet.html#write">write</a></li><li data-type='method' style='display: none;'><a href="H5DataSet.html#writeAttribute">writeAttribute</a></li></ul></li><li><a href="H5File.html">H5File</a><ul class='methods'><li data-type='method' style='display: none;'><a href="H5File.html#createDataSet">createDataSet</a></li><li data-type='method' style='display: none;'><a href="H5File.html#createGroup">createGroup</a></li><li data-type='method' style='display: none;'><a href="H5File.html#open">open</a></li><li data-type='method' style='display: none;'><a href="H5File.html#readAttribute">readAttribute</a></li><li data-type='method' style='display: none;'><a href="H5File.html#writeAttribute">writeAttribute</a></li><li data-type='method' style='display: none;'><a href="H5File.html#writeDataSet">writeDataSet</a></li></ul></li><li><a href="H5Group.html">H5Group</a><ul class='methods'><li data-type='method' style='display: none;'><a href="H5Group.html#createDataSet">createDataSet</a></li><li data-type='method' style='display: none;'><a href="H5Group.html#createGroup">createGroup</a></li><li data-type='method' style='display: none;'><a href="H5Group.html#open">open</a></li><li data-type='method' style='display: none;'><a href="H5Group.html#readAttribute">readAttribute</a></li><li data-type='method' style='display: none;'><a href="H5Group.html#writeAttribute">writeAttribute</a></li><li data-type='method' style='display: none;'><a href="H5Group.html#writeDataSet">writeDataSet</a></li></ul></li><li><a href="IntegrateCellLabelsResults.html">IntegrateCellLabelsResults</a><ul class='methods'><li data-type='method' style='display: none;'><a href="IntegrateCellLabelsResults.html#fineTuningDelta">fineTuningDelta</a></li><li data-type='method' style='display: none;'><a href="IntegrateCellLabelsResults.html#free">free</a></li><li data-type='method' style='display: none;'><a href="IntegrateCellLabelsResults.html#numberOfCells">numberOfCells</a></li><li data-type='method' style='display: none;'><a href="IntegrateCellLabelsResults.html#numberOfReferences">numberOfReferences</a></li><li data-type='method' style='display: none;'><a href="IntegrateCellLabelsResults.html#predictedReferences">predictedReferences</a></li><li data-type='method' style='display: none;'><a href="IntegrateCellLabelsResults.html#scoresForCell">scoresForCell</a></li><li data-type='method' style='display: none;'><a href="IntegrateCellLabelsResults.html#scoresForReference">scoresForReference</a></li></ul></li><li><a href="IntegrateLabelledReferencesResults.html">IntegrateLabelledReferencesResults</a><ul class='methods'><li data-type='method' style='display: none;'><a href="IntegrateLabelledReferencesResults.html#free">free</a></li><li data-type='method' style='display: none;'><a href="IntegrateLabelledReferencesResults.html#numberOfReferences">numberOfReferences</a></li></ul></li><li><a href="LabelCellsResults.html">LabelCellsResults</a><ul class='methods'><li data-type='method' style='display: none;'><a href="LabelCellsResults.html#fineTuningDelta">fineTuningDelta</a></li><li data-type='method' style='display: none;'><a href="LabelCellsResults.html#free">free</a></li><li data-type='method' style='display: none;'><a href="LabelCellsResults.html#numberOfCells">numberOfCells</a></li><li data-type='method' style='display: none;'><a href="LabelCellsResults.html#numberOfLabels">numberOfLabels</a></li><li data-type='method' style='display: none;'><a href="LabelCellsResults.html#predictedLabels">predictedLabels</a></li><li data-type='method' style='display: none;'><a href="LabelCellsResults.html#scoresForCell">scoresForCell</a></li><li data-type='method' style='display: none;'><a href="LabelCellsResults.html#scoresForLabel">scoresForLabel</a></li></ul></li><li><a href="LoadLabelledReferenceResults.html">LoadLabelledReferenceResults</a><ul class='methods'><li data-type='method' style='display: none;'><a href="LoadLabelledReferenceResults.html#free">free</a></li><li data-type='method' style='display: none;'><a href="LoadLabelledReferenceResults.html#numberOfFeatures">numberOfFeatures</a></li><li data-type='method' style='display: none;'><a href="LoadLabelledReferenceResults.html#numberOfLabels">numberOfLabels</a></li><li data-type='method' style='display: none;'><a href="LoadLabelledReferenceResults.html#numberOfSamples">numberOfSamples</a></li></ul></li><li><a href="ModelGeneVariancesResults.html">ModelGeneVariancesResults</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ModelGeneVariancesResults.html#fitted">fitted</a></li><li data-type='method' style='display: none;'><a href="ModelGeneVariancesResults.html#free">free</a></li><li data-type='method' style='display: none;'><a href="ModelGeneVariancesResults.html#means">means</a></li><li data-type='method' style='display: none;'><a href="ModelGeneVariancesResults.html#numberOfBlocks">numberOfBlocks</a></li><li data-type='method' style='display: none;'><a href="ModelGeneVariancesResults.html#residuals">residuals</a></li><li data-type='method' style='display: none;'><a href="ModelGeneVariancesResults.html#variances">variances</a></li></ul></li><li><a href="MultiMatrix.html">MultiMatrix</a><ul class='methods'><li data-type='method' style='display: none;'><a href="MultiMatrix.html#add">add</a></li><li data-type='method' style='display: none;'><a href="MultiMatrix.html#available">available</a></li><li data-type='method' style='display: none;'><a href="MultiMatrix.html#clone">clone</a></li><li data-type='method' style='display: none;'><a href="MultiMatrix.html#free">free</a></li><li data-type='method' style='display: none;'><a href="MultiMatrix.html#get">get</a></li><li data-type='method' style='display: none;'><a href="MultiMatrix.html#has">has</a></li><li data-type='method' style='display: none;'><a href="MultiMatrix.html#numberOfColumns">numberOfColumns</a></li><li data-type='method' style='display: none;'><a href="MultiMatrix.html#remove">remove</a></li><li data-type='method' style='display: none;'><a href="MultiMatrix.html#rename">rename</a></li></ul></li><li><a href="PerCellAdtQcMetricsResults.html">PerCellAdtQcMetricsResults</a><ul class='methods'><li data-type='method' style='display: none;'><a href="PerCellAdtQcMetricsResults.html#detected">detected</a></li><li data-type='method' style='display: none;'><a href="PerCellAdtQcMetricsResults.html#free">free</a></li><li data-type='method' style='display: none;'><a href="PerCellAdtQcMetricsResults.html#numberOfCells">numberOfCells</a></li><li data-type='method' style='display: none;'><a href="PerCellAdtQcMetricsResults.html#numberOfSubsets">numberOfSubsets</a></li><li data-type='method' style='display: none;'><a href="PerCellAdtQcMetricsResults.html#subsetTotals">subsetTotals</a></li><li data-type='method' style='display: none;'><a href="PerCellAdtQcMetricsResults.html#sums">sums</a></li></ul></li><li><a href="PerCellCrisprQcMetricsResults.html">PerCellCrisprQcMetricsResults</a><ul class='methods'><li data-type='method' style='display: none;'><a href="PerCellCrisprQcMetricsResults.html#detected">detected</a></li><li data-type='method' style='display: none;'><a href="PerCellCrisprQcMetricsResults.html#free">free</a></li><li data-type='method' style='display: none;'><a href="PerCellCrisprQcMetricsResults.html#maxIndex">maxIndex</a></li><li data-type='method' style='display: none;'><a href="PerCellCrisprQcMetricsResults.html#maxProportions">maxProportions</a></li><li data-type='method' style='display: none;'><a href="PerCellCrisprQcMetricsResults.html#numberOfCells">numberOfCells</a></li><li data-type='method' style='display: none;'><a href="PerCellCrisprQcMetricsResults.html#sums">sums</a></li></ul></li><li><a href="PerCellRnaQcMetricsResults.html">PerCellRnaQcMetricsResults</a><ul class='methods'><li data-type='method' style='display: none;'><a href="PerCellRnaQcMetricsResults.html#detected">detected</a></li><li data-type='method' style='display: none;'><a href="PerCellRnaQcMetricsResults.html#free">free</a></li><li data-type='method' style='display: none;'><a href="PerCellRnaQcMetricsResults.html#numberOfCells">numberOfCells</a></li><li data-type='method' style='display: none;'><a href="PerCellRnaQcMetricsResults.html#numberOfSubsets">numberOfSubsets</a></li><li data-type='method' style='display: none;'><a href="PerCellRnaQcMetricsResults.html#subsetProportions">subsetProportions</a></li><li data-type='method' style='display: none;'><a href="PerCellRnaQcMetricsResults.html#sums">sums</a></li></ul></li><li><a href="RdsBooleanVector.html">RdsBooleanVector</a><ul class='methods'><li data-type='method' style='display: none;'><a href="RdsBooleanVector.html#attribute">attribute</a></li><li data-type='method' style='display: none;'><a href="RdsBooleanVector.html#attributeNames">attributeNames</a></li><li data-type='method' style='display: none;'><a href="RdsBooleanVector.html#findAttribute">findAttribute</a></li><li data-type='method' style='display: none;'><a href="RdsBooleanVector.html#free">free</a></li><li data-type='method' style='display: none;'><a href="RdsBooleanVector.html#length">length</a></li><li data-type='method' style='display: none;'><a href="RdsBooleanVector.html#type">type</a></li><li data-type='method' style='display: none;'><a href="RdsBooleanVector.html#values">values</a></li></ul></li><li><a href="RdsDetails.html">RdsDetails</a><ul class='methods'><li data-type='method' style='display: none;'><a href="RdsDetails.html#formatVersion">formatVersion</a></li><li data-type='method' style='display: none;'><a href="RdsDetails.html#free">free</a></li><li data-type='method' style='display: none;'><a href="RdsDetails.html#readerVersion">readerVersion</a></li><li data-type='method' style='display: none;'><a href="RdsDetails.html#value">value</a></li><li data-type='method' style='display: none;'><a href="RdsDetails.html#writerVersion">writerVersion</a></li></ul></li><li><a href="RdsDoubleVector.html">RdsDoubleVector</a><ul class='methods'><li data-type='method' style='display: none;'><a href="RdsDoubleVector.html#attribute">attribute</a></li><li data-type='method' style='display: none;'><a href="RdsDoubleVector.html#attributeNames">attributeNames</a></li><li data-type='method' style='display: none;'><a href="RdsDoubleVector.html#findAttribute">findAttribute</a></li><li data-type='method' style='display: none;'><a href="RdsDoubleVector.html#free">free</a></li><li data-type='method' style='display: none;'><a href="RdsDoubleVector.html#length">length</a></li><li data-type='method' style='display: none;'><a href="RdsDoubleVector.html#type">type</a></li><li data-type='method' style='display: none;'><a href="RdsDoubleVector.html#values">values</a></li></ul></li><li><a href="RdsGenericVector.html">RdsGenericVector</a><ul class='methods'><li data-type='method' style='display: none;'><a href="RdsGenericVector.html#attribute">attribute</a></li><li data-type='method' style='display: none;'><a href="RdsGenericVector.html#attributeNames">attributeNames</a></li><li data-type='method' style='display: none;'><a href="RdsGenericVector.html#findAttribute">findAttribute</a></li><li data-type='method' style='display: none;'><a href="RdsGenericVector.html#free">free</a></li><li data-type='method' style='display: none;'><a href="RdsGenericVector.html#length">length</a></li><li data-type='method' style='display: none;'><a href="RdsGenericVector.html#load">load</a></li><li data-type='method' style='display: none;'><a href="RdsGenericVector.html#type">type</a></li></ul></li><li><a href="RdsIntegerVector.html">RdsIntegerVector</a><ul class='methods'><li data-type='method' style='display: none;'><a href="RdsIntegerVector.html#attribute">attribute</a></li><li data-type='method' style='display: none;'><a href="RdsIntegerVector.html#attributeNames">attributeNames</a></li><li data-type='method' style='display: none;'><a href="RdsIntegerVector.html#findAttribute">findAttribute</a></li><li data-type='method' style='display: none;'><a href="RdsIntegerVector.html#free">free</a></li><li data-type='method' style='display: none;'><a href="RdsIntegerVector.html#length">length</a></li><li data-type='method' style='display: none;'><a href="RdsIntegerVector.html#type">type</a></li><li data-type='method' style='display: none;'><a href="RdsIntegerVector.html#values">values</a></li></ul></li><li><a href="RdsNull.html">RdsNull</a><ul class='methods'><li data-type='method' style='display: none;'><a href="RdsNull.html#free">free</a></li><li data-type='method' style='display: none;'><a href="RdsNull.html#type">type</a></li></ul></li><li><a href="RdsObject.html">RdsObject</a><ul class='methods'><li data-type='method' style='display: none;'><a href="RdsObject.html#free">free</a></li><li data-type='method' style='display: none;'><a href="RdsObject.html#type">type</a></li></ul></li><li><a href="RdsS4Object.html">RdsS4Object</a><ul class='methods'><li data-type='method' style='display: none;'><a href="RdsS4Object.html#attribute">attribute</a></li><li data-type='method' style='display: none;'><a href="RdsS4Object.html#attributeNames">attributeNames</a></li><li data-type='method' style='display: none;'><a href="RdsS4Object.html#className">className</a></li><li data-type='method' style='display: none;'><a href="RdsS4Object.html#findAttribute">findAttribute</a></li><li data-type='method' style='display: none;'><a href="RdsS4Object.html#free">free</a></li><li data-type='method' style='display: none;'><a href="RdsS4Object.html#packageName">packageName</a></li><li data-type='method' style='display: none;'><a href="RdsS4Object.html#type">type</a></li></ul></li><li><a href="RdsStringVector.html">RdsStringVector</a><ul class='methods'><li data-type='method' style='display: none;'><a href="RdsStringVector.html#attribute">attribute</a></li><li data-type='method' style='display: none;'><a href="RdsStringVector.html#attributeNames">attributeNames</a></li><li data-type='method' style='display: none;'><a href="RdsStringVector.html#findAttribute">findAttribute</a></li><li data-type='method' style='display: none;'><a href="RdsStringVector.html#free">free</a></li><li data-type='method' style='display: none;'><a href="RdsStringVector.html#length">length</a></li><li data-type='method' style='display: none;'><a href="RdsStringVector.html#type">type</a></li><li data-type='method' style='display: none;'><a href="RdsStringVector.html#values">values</a></li></ul></li><li><a href="RdsVector.html">RdsVector</a><ul class='methods'><li data-type='method' style='display: none;'><a href="RdsVector.html#attribute">attribute</a></li><li data-type='method' style='display: none;'><a href="RdsVector.html#attributeNames">attributeNames</a></li><li data-type='method' style='display: none;'><a href="RdsVector.html#findAttribute">findAttribute</a></li><li data-type='method' style='display: none;'><a href="RdsVector.html#free">free</a></li><li data-type='method' style='display: none;'><a href="RdsVector.html#length">length</a></li><li data-type='method' style='display: none;'><a href="RdsVector.html#type">type</a></li></ul></li><li><a href="RunPcaResults.html">RunPcaResults</a><ul class='methods'><li data-type='method' style='display: none;'><a href="RunPcaResults.html#free">free</a></li><li data-type='method' style='display: none;'><a href="RunPcaResults.html#numberOfCells">numberOfCells</a></li><li data-type='method' style='display: none;'><a href="RunPcaResults.html#numberOfPCs">numberOfPCs</a></li><li data-type='method' style='display: none;'><a href="RunPcaResults.html#principalComponents">principalComponents</a></li><li data-type='method' style='display: none;'><a href="RunPcaResults.html#setTotalVariance">setTotalVariance</a></li><li data-type='method' style='display: none;'><a href="RunPcaResults.html#totalVariance">totalVariance</a></li><li data-type='method' style='display: none;'><a href="RunPcaResults.html#varianceExplained">varianceExplained</a></li></ul></li><li><a href="ScoreMarkersResults.html">ScoreMarkersResults</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ScoreMarkersResults.html#auc">auc</a></li><li data-type='method' style='display: none;'><a href="ScoreMarkersResults.html#cohen">cohen</a></li><li data-type='method' style='display: none;'><a href="ScoreMarkersResults.html#deltaDetected">deltaDetected</a></li><li data-type='method' style='display: none;'><a href="ScoreMarkersResults.html#detected">detected</a></li><li data-type='method' style='display: none;'><a href="ScoreMarkersResults.html#free">free</a></li><li data-type='method' style='display: none;'><a href="ScoreMarkersResults.html#lfc">lfc</a></li><li data-type='method' style='display: none;'><a href="ScoreMarkersResults.html#means">means</a></li><li data-type='method' style='display: none;'><a href="ScoreMarkersResults.html#numberOfGroups">numberOfGroups</a></li></ul></li><li><a href="ScranMatrix.html">ScranMatrix</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ScranMatrix.html#.createDenseMatrix">createDenseMatrix</a></li><li data-type='method' style='display: none;'><a href="ScranMatrix.html#clone">clone</a></li><li data-type='method' style='display: none;'><a href="ScranMatrix.html#column">column</a></li><li data-type='method' style='display: none;'><a href="ScranMatrix.html#free">free</a></li><li data-type='method' style='display: none;'><a href="ScranMatrix.html#isSparse">isSparse</a></li><li data-type='method' style='display: none;'><a href="ScranMatrix.html#numberOfColumns">numberOfColumns</a></li><li data-type='method' style='display: none;'><a href="ScranMatrix.html#numberOfRows">numberOfRows</a></li><li data-type='method' style='display: none;'><a href="ScranMatrix.html#row">row</a></li></ul></li><li><a href="SuggestAdtQcFiltersResults.html">SuggestAdtQcFiltersResults</a><ul class='methods'><li data-type='method' style='display: none;'><a href="SuggestAdtQcFiltersResults.html#filter">filter</a></li><li data-type='method' style='display: none;'><a href="SuggestAdtQcFiltersResults.html#free">free</a></li><li data-type='method' style='display: none;'><a href="SuggestAdtQcFiltersResults.html#numberOfBlocks">numberOfBlocks</a></li><li data-type='method' style='display: none;'><a href="SuggestAdtQcFiltersResults.html#numberOfSubsets">numberOfSubsets</a></li><li data-type='method' style='display: none;'><a href="SuggestAdtQcFiltersResults.html#thresholdsDetected">thresholdsDetected</a></li><li data-type='method' style='display: none;'><a href="SuggestAdtQcFiltersResults.html#thresholdsSubsetTotals">thresholdsSubsetTotals</a></li></ul></li><li><a href="SuggestCrisprQcFiltersResults.html">SuggestCrisprQcFiltersResults</a><ul class='methods'><li data-type='method' style='display: none;'><a href="SuggestCrisprQcFiltersResults.html#filter">filter</a></li><li data-type='method' style='display: none;'><a href="SuggestCrisprQcFiltersResults.html#free">free</a></li><li data-type='method' style='display: none;'><a href="SuggestCrisprQcFiltersResults.html#numberOfBlocks">numberOfBlocks</a></li><li data-type='method' style='display: none;'><a href="SuggestCrisprQcFiltersResults.html#thresholdsMaxCount">thresholdsMaxCount</a></li></ul></li><li><a href="SuggestRnaQcFiltersResults.html">SuggestRnaQcFiltersResults</a><ul class='methods'><li data-type='method' style='display: none;'><a href="SuggestRnaQcFiltersResults.html#filter">filter</a></li><li data-type='method' style='display: none;'><a href="SuggestRnaQcFiltersResults.html#free">free</a></li><li data-type='method' style='display: none;'><a href="SuggestRnaQcFiltersResults.html#numberOfBlocks">numberOfBlocks</a></li><li data-type='method' style='display: none;'><a href="SuggestRnaQcFiltersResults.html#numberOfSubsets">numberOfSubsets</a></li><li data-type='method' style='display: none;'><a href="SuggestRnaQcFiltersResults.html#thresholdsDetected">thresholdsDetected</a></li><li data-type='method' style='display: none;'><a href="SuggestRnaQcFiltersResults.html#thresholdsSubsetProportions">thresholdsSubsetProportions</a></li><li data-type='method' style='display: none;'><a href="SuggestRnaQcFiltersResults.html#thresholdsSums">thresholdsSums</a></li></ul></li><li><a href="TsneStatus.html">TsneStatus</a><ul class='methods'><li data-type='method' style='display: none;'><a href="TsneStatus.html#clone">clone</a></li><li data-type='method' style='display: none;'><a href="TsneStatus.html#extractCoordinates">extractCoordinates</a></li><li data-type='method' style='display: none;'><a href="TsneStatus.html#free">free</a></li><li data-type='method' style='display: none;'><a href="TsneStatus.html#iterations">iterations</a></li><li data-type='method' style='display: none;'><a href="TsneStatus.html#numberOfCells">numberOfCells</a></li><li data-type='method' style='display: none;'><a href="TsneStatus.html#run">run</a></li></ul></li><li><a href="UmapStatus.html">UmapStatus</a><ul class='methods'><li data-type='method' style='display: none;'><a href="UmapStatus.html#clone">clone</a></li><li data-type='method' style='display: none;'><a href="UmapStatus.html#currentEpoch">currentEpoch</a></li><li data-type='method' style='display: none;'><a href="UmapStatus.html#extractCoordinates">extractCoordinates</a></li><li data-type='method' style='display: none;'><a href="UmapStatus.html#free">free</a></li><li data-type='method' style='display: none;'><a href="UmapStatus.html#numberOfCells">numberOfCells</a></li><li data-type='method' style='display: none;'><a href="UmapStatus.html#run">run</a></li><li data-type='method' style='display: none;'><a href="UmapStatus.html#totalEpochs">totalEpochs</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#aggregateAcrossCells">aggregateAcrossCells</a></li><li><a href="global.html#buildLabelledReference">buildLabelledReference</a></li><li><a href="global.html#buildNeighborSearchIndex">buildNeighborSearchIndex</a></li><li><a href="global.html#buildSnnGraph">buildSnnGraph</a></li><li><a href="global.html#cbind">cbind</a></li><li><a href="global.html#cbindWithNames">cbindWithNames</a></li><li><a href="global.html#centerSizeFactors">centerSizeFactors</a></li><li><a href="global.html#chooseHvgs">chooseHvgs</a></li><li><a href="global.html#chooseTemporaryPath">chooseTemporaryPath</a></li><li><a href="global.html#clusterKmeans">clusterKmeans</a></li><li><a href="global.html#clusterSnnGraph">clusterSnnGraph</a></li><li><a href="global.html#computeTopThreshold">computeTopThreshold</a></li><li><a href="global.html#convertToFactor">convertToFactor</a></li><li><a href="global.html#createBigUint64WasmArray">createBigUint64WasmArray</a></li><li><a href="global.html#createBlock">createBlock</a></li><li><a href="global.html#createFloat64WasmArray">createFloat64WasmArray</a></li><li><a href="global.html#createInt32WasmArray">createInt32WasmArray</a></li><li><a href="global.html#createNewHdf5File">createNewHdf5File</a></li><li><a href="global.html#createUint8WasmArray">createUint8WasmArray</a></li><li><a href="global.html#delayedArithmetic">delayedArithmetic</a></li><li><a href="global.html#delayedMath">delayedMath</a></li><li><a href="global.html#dropUnusedLevels">dropUnusedLevels</a></li><li><a href="global.html#emptyClusterSnnGraphResults">emptyClusterSnnGraphResults</a></li><li><a href="global.html#emptyPerCellAdtQcMetricsResults">emptyPerCellAdtQcMetricsResults</a></li><li><a href="global.html#emptyPerCellCrisprQcMetricsResults">emptyPerCellCrisprQcMetricsResults</a></li><li><a href="global.html#emptyPerCellRnaQcMetricsResults">emptyPerCellRnaQcMetricsResults</a></li><li><a href="global.html#emptySuggestAdtQcFiltersResults">emptySuggestAdtQcFiltersResults</a></li><li><a href="global.html#emptySuggestCrisprQcFiltersResults">emptySuggestCrisprQcFiltersResults</a></li><li><a href="global.html#emptySuggestRnaQcFiltersResults">emptySuggestRnaQcFiltersResults</a></li><li><a href="global.html#existsFile">existsFile</a></li><li><a href="global.html#extractHdf5MatrixDetails">extractHdf5MatrixDetails</a></li><li><a href="global.html#extractHdf5ObjectNames">extractHdf5ObjectNames</a></li><li><a href="global.html#extractMatrixMarketDimensions">extractMatrixMarketDimensions</a></li><li><a href="global.html#filterCells">filterCells</a></li><li><a href="global.html#findNearestNeighbors">findNearestNeighbors</a></li><li><a href="global.html#free">free</a></li><li><a href="global.html#groupedSizeFactors">groupedSizeFactors</a></li><li><a href="global.html#guessFeatures">guessFeatures</a></li><li><a href="global.html#heapSize">heapSize</a></li><li><a href="global.html#hypergeometricTest">hypergeometricTest</a></li><li><a href="global.html#initialize">initialize</a></li><li><a href="global.html#initializeDenseMatrixFromDenseArray">initializeDenseMatrixFromDenseArray</a></li><li><a href="global.html#initializeSparseMatrixFromCompressedVectors">initializeSparseMatrixFromCompressedVectors</a></li><li><a href="global.html#initializeSparseMatrixFromDenseArray">initializeSparseMatrixFromDenseArray</a></li><li><a href="global.html#initializeSparseMatrixFromHdf5">initializeSparseMatrixFromHdf5</a></li><li><a href="global.html#initializeSparseMatrixFromMatrixMarket">initializeSparseMatrixFromMatrixMarket</a></li><li><a href="global.html#initializeSparseMatrixFromRds">initializeSparseMatrixFromRds</a></li><li><a href="global.html#initializeTsne">initializeTsne</a></li><li><a href="global.html#initializeUmap">initializeUmap</a></li><li><a href="global.html#integrateCellLabels">integrateCellLabels</a></li><li><a href="global.html#integrateLabelledReferences">integrateLabelledReferences</a></li><li><a href="global.html#labelCells">labelCells</a></li><li><a href="global.html#loadHdf5Dataset">loadHdf5Dataset</a></li><li><a href="global.html#loadLabelledReferenceFromBuffers">loadLabelledReferenceFromBuffers</a></li><li><a href="global.html#logNormCounts">logNormCounts</a></li><li><a href="global.html#maximumThreads">maximumThreads</a></li><li><a href="global.html#medianSizeFactors">medianSizeFactors</a></li><li><a href="global.html#mnnCorrect">mnnCorrect</a></li><li><a href="global.html#modelGeneVariances">modelGeneVariances</a></li><li><a href="global.html#perCellAdtQcMetrics">perCellAdtQcMetrics</a></li><li><a href="global.html#perCellCrisprQcMetrics">perCellCrisprQcMetrics</a></li><li><a href="global.html#perCellRnaQcMetrics">perCellRnaQcMetrics</a></li><li><a href="global.html#perplexityToNeighbors">perplexityToNeighbors</a></li><li><a href="global.html#possibleCopy">possibleCopy</a></li><li><a href="global.html#quickAdtSizeFactors">quickAdtSizeFactors</a></li><li><a href="global.html#rbind">rbind</a></li><li><a href="global.html#readFile">readFile</a></li><li><a href="global.html#readRds">readRds</a></li><li><a href="global.html#realizeFile">realizeFile</a></li><li><a href="global.html#remapFeatureSets">remapFeatureSets</a></li><li><a href="global.html#removeFile">removeFile</a></li><li><a href="global.html#resetLevels">resetLevels</a></li><li><a href="global.html#runPca">runPca</a></li><li><a href="global.html#runTsne">runTsne</a></li><li><a href="global.html#runUmap">runUmap</a></li><li><a href="global.html#scaleByNeighbors">scaleByNeighbors</a></li><li><a href="global.html#scoreFeatureSet">scoreFeatureSet</a></li><li><a href="global.html#scoreMarkers">scoreMarkers</a></li><li><a href="global.html#splitRows">splitRows</a></li><li><a href="global.html#subsetColumns">subsetColumns</a></li><li><a href="global.html#subsetFactor">subsetFactor</a></li><li><a href="global.html#subsetRows">subsetRows</a></li><li><a href="global.html#suggestAdtQcFilters">suggestAdtQcFilters</a></li><li><a href="global.html#suggestCrisprQcFilters">suggestCrisprQcFilters</a></li><li><a href="global.html#suggestRnaQcFilters">suggestRnaQcFilters</a></li><li><a href="global.html#terminate">terminate</a></li><li><a href="global.html#testFeatureSetEnrichment">testFeatureSetEnrichment</a></li><li><a href="global.html#transpose">transpose</a></li><li><a href="global.html#wasmArraySpace">wasmArraySpace</a></li><li><a href="global.html#writeFile">writeFile</a></li><li><a href="global.html#writeSparseMatrixToHdf5">writeSparseMatrixToHdf5</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">initializeSparseMatrix.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import * as gc from "./gc.js";
import * as wasm from "./wasm.js";
import * as utils from "./utils.js"; 
import { ScranMatrix } from "./ScranMatrix.js";

/**
 * Initialize a sparse matrix from a dense array.
 *
 * @param {number} numberOfRows Number of rows in the matrix.
 * @param {number} numberOfColumns Number of columns in the matrix.
 * @param {WasmArray|Array|TypedArray} values Values of all elements in the matrix, stored in column-major order.
 * This is generally expected to contain non-negative integers; otherwise, users should set `forceInteger = false`.
 * @param {object} [options={}] - Optional parameters.
 * @param {boolean} [options.forceInteger=true] - Whether to coerce `values` to integers via truncation.
 * @param {boolean} [options.layered=true] - Whether to create a layered sparse matrix, see [**tatami_layered**](https://github.com/tatami-inc/tatami_layered) for more details.
 * Only used if `values` contains an integer type and/or `forceInteger = true`.
 * Setting to `true` assumes that `values` contains only non-negative integers.
 *
 * @return {ScranMatrix} Matrix containing sparse data.
 */
export function initializeSparseMatrixFromDenseArray(numberOfRows, numberOfColumns, values, { forceInteger = true, layered = true } = {}) {
    var val_data; 
    var output;

    try {
        val_data = utils.wasmifyArray(values, null);
        if (val_data.length !== numberOfRows * numberOfColumns) {
            throw new Error("length of 'values' is not consistent with supplied dimensions");
        }

        output = gc.call(
            module => module.initialize_sparse_matrix_from_dense_vector(
                numberOfRows, 
                numberOfColumns, 
                val_data.offset, 
                val_data.constructor.className.replace("Wasm", ""),
                forceInteger,
                layered
            ),
            ScranMatrix
        );

    } catch (e) {
        utils.free(output);
        throw e;

    } finally {
        utils.free(val_data);
    }

    return output;
}

/**
 * Initialize a sparse matrix from its compressed components.
 *
 * @param {number} numberOfRows Number of rows in the matrix.
 * @param {number} numberOfColumns Number of columns in the matrix.
 * @param {WasmArray} values Values of the non-zero elements.
 * This is generally expected to contain non-negative integers; otherwise, users should set `forceInteger = false`.
 * @param {WasmArray} indices Row indices of the non-zero elements.
 * This should be of the same length as `values`.
 * @param {WasmArray} pointers Pointers specifying the start of each column in `indices`.
 * This should have length equal to `numberOfColumns + 1`.
 * @param {object} [options={}] - Optional parameters.
 * @param {boolean} [options.byRow=true] - Whether the input arrays are supplied in the compressed sparse column format.
 * If `true`, `indices` should contain column indices and `pointers` should specify the start of each row in `indices`.
 * @param {boolean} [options.forceInteger=true] - Whether to coerce `values` to integers via truncation.
 * @param {boolean} [options.layered=true] - Whether to create a layered sparse matrix, see [**tatami_layered**](https://github.com/tatami-inc/tatami_layered) for more details.
 * Only used if `values` contains an integer type and/or `forceInteger = true`.
 * Setting to `true` assumes that `values` contains only non-negative integers.
 *
 * @return {ScranMatrix} Matrix containing sparse data.
 */ 
export function initializeSparseMatrixFromCompressedVectors(numberOfRows, numberOfColumns, values, indices, pointers, { byRow = true, forceInteger = true, layered = true } = {}) {
    var val_data;
    var ind_data;
    var indp_data;
    var output;

    try {
        val_data = utils.wasmifyArray(values, null);
        ind_data = utils.wasmifyArray(indices, null);
        indp_data = utils.wasmifyArray(pointers, null);
        if (val_data.length != ind_data.length) {
            throw new Error("'values' and 'indices' should have the same length");
        }
        if (indp_data.length != (byRow ? numberOfRows : numberOfColumns) + 1) {
            throw new Error("'pointers' does not have an appropriate length");
        }

        output = gc.call(
            module => module.initialize_sparse_matrix(
                numberOfRows, 
                numberOfColumns, 
                val_data.length, 
                val_data.offset, 
                val_data.constructor.className.replace("Wasm", ""), 
                ind_data.offset, 
                ind_data.constructor.className.replace("Wasm", ""), 
                indp_data.offset, 
                indp_data.constructor.className.replace("Wasm", ""), 
                byRow,
                forceInteger,
                layered
            ),
            ScranMatrix
        );

    } catch (e) {
        utils.free(output);
        throw e;

    } finally {
        utils.free(val_data);
        utils.free(ind_data);
        utils.free(indp_data);
    }

    return output;
}

/** 
 * Initialize a sparse matrix from a buffer containing a MatrixMarket file.
 *
 * @param {Uint8WasmArray|Array|TypedArray|string} buffer Byte array containing the contents of a Matrix Market file with non-negative counts.
 * This can be raw text or Gzip-compressed.
 * 
 * Alternatively, this can be a string containing a file path to a MatrixMarket file.
 * On browsers, this should be a path in the virtual filesystem, typically created with {@linkcode writeFile}. 
 * @param {object} [options={}] - Optional parameters.
 * @param {?boolean} [options.compressed=null] - Whether the buffer is Gzip-compressed.
 * If `null`, we detect this automatically from the magic number in the header.
 * @param {boolean} [options.layered=true] - Whether to create a layered sparse matrix, see [**tatami_layered**](https://github.com/tatami-inc/tatami_layered) for more details.
 *
 * @return {ScranMatrix} Matrix containing sparse data.
 */
export function initializeSparseMatrixFromMatrixMarket(x, { compressed = null, layered = true } = {}) {
    var buf_data;
    var output;

    try {
        compressed = convert_compressed(compressed);
        if (typeof x !== "string") {
            buf_data = utils.wasmifyArray(x, "Uint8WasmArray");
            output = gc.call(
                module => module.read_matrix_market_from_buffer(buf_data.offset, buf_data.length, compressed, layered),
                ScranMatrix
            );
        } else {
            output = gc.call(
                module => module.read_matrix_market_from_file(x, compressed, layered),
                ScranMatrix
            );
        }

    } catch(e) {
        utils.free(output);
        throw e;

    } finally {
        utils.free(buf_data);
    }

    return output;
}

function convert_compressed(compressed) {
    if (compressed === null) {
        return -1;
    } else if (compressed) {
        return 1;
    } else {
        return 0;
    }
}

/** 
 * Extract dimensions and other details from a MatrixMarket file.
 *
 * @param {Uint8WasmArray|Array|TypedArray|string} buffer Byte array containing the contents of a Matrix Market file with non-negative counts.
 * This can be raw text or Gzip-compressed.
 * 
 * Alternatively, this can be a string containing a file path to a MatrixMarket file.
 * On browsers, this should be a path in the virtual filesystem, typically created with {@linkcode writeFile}. 
 * @param {object} [options={}] - Optional parameters.
 * @param {boolean} [options.compressed=null] - Whether the buffer is Gzip-compressed.
 * If `null`, we detect this automatically from the magic number in the header.
 *
 * @return {object} An object containing the number of `rows`, `columns` and `lines` in the matrix.
 */
export function extractMatrixMarketDimensions(x, { compressed = null } = {}) {
    var buf_data;
    var stats = utils.createFloat64WasmArray(3);
    let output = {};

    try {
        compressed = convert_compressed(compressed);
        if (typeof x !== "string") {
            buf_data = utils.wasmifyArray(x, "Uint8WasmArray");
            wasm.call(module => module.read_matrix_market_header_from_buffer(buf_data.offset, buf_data.length, compressed, stats.offset));
        } else {
            wasm.call(module => module.read_matrix_market_header_from_file(x, compressed, stats.offset));
        }

        let sarr = stats.array();
        output.rows = sarr[0];
        output.columns = sarr[1];
        output.lines = sarr[2];

    } finally {
        utils.free(buf_data);
        utils.free(stats);
    }

    return output;
}

/**
 * Initialize a layered sparse matrix from a HDF5 file.
 *
 * @param {string} file Path to the HDF5 file.
 * For browsers, the file should have been saved to the virtual filesystem.
 * @param {string} name Name of the dataset inside the file.
 * This can be a HDF5 Dataset for dense matrices or a HDF5 Group for sparse matrices.
 * For the latter, both H5AD and 10X-style sparse formats are supported.
 * @param {object} [options={}] - Optional parameters.
 * @param {boolean} [options.forceInteger=true] - Whether to coerce all elements to integers via truncation.
 * @param {boolean} [options.layered=true] - Whether to create a layered sparse matrix, see [**tatami_layered**](https://github.com/tatami-inc/tatami_layered) for more details.
 * Only used if the relevant HDF5 dataset contains an integer type and/or `forceInteger = true`.
 * Setting to `true` assumes that the matrix contains only non-negative integers.
 * @param {?(Array|TypedArray|Int32WasmArray)} [options.subsetRow=null] - Row indices to extract.
 * All indices must be non-negative integers less than the number of rows in the sparse matrix.
 * @param {?(Array|TypedArray|Int32WasmArray)} [options.subsetColumn=null] - Column indices to extract.
 * All indices must be non-negative integers less than the number of columns in the sparse matrix.
 *
 * @return {ScranMatrix} Matrix containing sparse data.
 */
export function initializeSparseMatrixFromHdf5(file, name, { forceInteger = true, layered = true, subsetRow = null, subsetColumn = null } = {}) {
    var ids = null;
    var output;
    let wasm_row, wasm_col;

    try {
        let use_row_subset = (subsetRow !== null);
        let row_offset = 0, row_length = 0;
        if (use_row_subset) {
            wasm_row = utils.wasmifyArray(subsetRow, "Int32WasmArray");
            row_offset = wasm_row.offset;
            row_length = wasm_row.length;
        }

        let use_col_subset = (subsetColumn !== null);
        let col_offset = 0, col_length = 0;
        if (use_col_subset) {
            wasm_col = utils.wasmifyArray(subsetColumn, "Int32WasmArray");
            col_offset = wasm_col.offset;
            col_length = wasm_col.length;
        }

        output = gc.call(
            module => module.read_hdf5_matrix(file, name, forceInteger, layered, use_row_subset, row_offset, row_length, use_col_subset, col_offset, col_length),
            ScranMatrix
        );

    } catch(e) {
        utils.free(output);
        throw e;
    } finally {
        utils.free(wasm_row);
        utils.free(wasm_col);
    }

    return output;
}

/**
 * Extract the format and dimensions of a HDF5 matrix.
 *
 * @param {string} file Path to the HDF5 file.
 * For browsers, the file should have been saved to the virtual filesystem.
 * @param {string} name Name of the dataset inside the file.
 * This can be a HDF5 Dataset for dense matrices or a HDF5 Group for sparse matrices.
 * For the latter, both H5AD and 10X-style sparse formats are supported.
 *
 * @return {object} An object containing:
 * - `rows`, the number of rows in the matrix.
 * - `columns`, the number of columns.
 * - `format`, whether the matrix is dense, CSR or CSC.
 * - `integer`, whether the matrix data is stored as integers or doubles.
 */
export function extractHdf5MatrixDetails(file, name) { 
    let output = {};
    let arr = utils.createInt32WasmArray(5);
    try {
        wasm.call(module => module.extract_hdf5_matrix_details(file, name, arr.offset));

        let vals = arr.array();
        if (vals[0] > 0) {
            output.format = "dense";
        } else if (vals[1] > 0) {
            output.format = "csc";
        } else {
            output.format = "csr";
        }

        output.rows = vals[2];
        output.columns = vals[3];
        output.integer = vals[4] > 0;
    } finally {
        arr.free();
    }
    return output;
}

/**
 * Initialize a dense matrix from a column-major array.
 *
 * @param {number} numberOfRows - Number of rows.
 * @param {number} numberOfColumns - Number of columns.
 * @param {(WasmArray|TypedArray|Array)} values - Array of length equal to the product of `numberOfRows` and `numberOfColumns`,
 * containing the values to store in the array.
 * @param {object} [options={}] - Optional parameters.
 * @param {boolean} [options.forceInteger=true] - Whether to coerce `values` to integers via truncation.
 *
 * @return {ScranMatrix} A dense matrix, filled by column with the contents of `values`.
 */
export function initializeDenseMatrixFromDenseArray(numberOfRows, numberOfColumns, values, { forceInteger = false } = {}) {
    var tmp;
    var output;

    try {
        tmp = utils.wasmifyArray(values, null);
        output = gc.call(
            module => module.initialize_dense_matrix(
                numberOfRows, 
                numberOfColumns, 
                tmp.offset, 
                tmp.constructor.className.replace("Wasm", ""),
                forceInteger
            ),
            ScranMatrix
        );
    } catch (e) {
        utils.free(output);
        throw e;
    } finally {
        utils.free(tmp);
    }

    return output;
}

/**
 * Initialize a sparse matrix from an RDS file.
 *
 * @param {RdsObject} x - Handle to an object inside an RDS file.
 * This should be an integer/numeric matrix, `dgCMatrix` or `dgTMatrix` object.
 * @param {object} [options={}] - Optional parameters.
 * @param {boolean} [options.forceInteger=true] - Whether to coerce all elements to integers via truncation.
 * @param {boolean} [options.layered=true] - Whether to create a layered sparse matrix, see [**tatami_layered**](https://github.com/tatami-inc/tatami_layered) for more details.
 * Only used if the R matrix is of an integer type and/or `forceInteger = true`.
 * Setting to `true` assumes that the matrix contains only non-negative integers.
 *
 * @return {ScranMatrix} Sparse matrix.
 */
export function initializeSparseMatrixFromRds(x, { forceInteger = true, layered = true } = {}) {
    var ids = null;
    var output;

    try {
        output = gc.call(
            module => module.initialize_sparse_matrix_from_rds(x.object.$$.ptr, forceInteger, layered),
            ScranMatrix
        );
    } catch(e) {
        utils.free(output);
        throw e;
    }

    return output;
}
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.11</a> on Tue Jul 25 2023 16:16:11 GMT+0000 (Coordinated Universal Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>
